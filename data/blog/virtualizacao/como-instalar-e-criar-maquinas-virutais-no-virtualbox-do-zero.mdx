---
title: 'Como Instalar e Criar Máquinas Virtuais no VirtualBox do Zero'
date: '2025-08-23'
tags: ['virtualizacao']
draft: false
summary: Um guia prático que mostra passo a passo como instalar, configurar e gerenciar máquinas virtuais no VirtualBox. Ideal tanto para iniciantes quanto para usuários que desejam tirar o máximo proveito da ferramenta para construir laboratórios complexos.
---

# Índice

- [Índice](#índice)
- [Introdução](#introdução)
  - [O que é Virtualização?](#o-que-é-virtualização)
  - [O que é o VirtualBox?](#o-que-é-o-virtualbox)
    - [Recursos e Extensões](#recursos-e-extensões)
      - [Virtual Hardware](#virtual-hardware)
      - [Snapshots](#snapshots)
      - [Integração e ferramentas](#integração-e-ferramentas)
- [Instalando o VirtualBox no Windows](#instalando-o-virtualbox-no-windows)
  - [Pré-requisitos para o VirtualBox no Windows](#pré-requisitos-para-o-virtualbox-no-windows)
    - [1. Python](#1-python)
    - [2. Biblioteca pywin32](#2-biblioteca-pywin32)
  - [Instalação](#instalação)
- [Gerenciando Máquinas Virtuais](#gerenciando-máquinas-virtuais)
  - [Removendo Máquinas Virtuais](#removendo-máquinas-virtuais)
  - [Movendo Máquinas Virtuais](#movendo-máquinas-virtuais)
  - [Clonando Máquinas Virtuais](#clonando-máquinas-virtuais)
  - [Organizando Máquinas em Grupos](#organizando-máquinas-em-grupos)
  - [Snapshots](#snapshots-1)
    - [Criando Snapshots](#criando-snapshots)
    - [Restaurando Snapshots](#restaurando-snapshots)
    - [Excluindo Snapshots](#excluindo-snapshots)
    - [O que um Snapshot Armazena](#o-que-um-snapshot-armazena)
  - [Configurações Avançadas de Hardware](#configurações-avançadas-de-hardware)
    - [Hardware Emulado](#hardware-emulado)
    - [Paravirtualização](#paravirtualização)
    - [Nested Paging e VPIDs](#nested-paging-e-vpids)
  - [Armazenamento, Rede e Periféricos](#armazenamento-rede-e-periféricos)
    - [Armazenamento](#armazenamento)
    - [Rede](#rede)
      - [Bridged Adapter](#bridged-adapter)
      - [Host‑only Adapter](#hostonly-adapter)
      - [Internal Network](#internal-network)
      - [NAT Network](#nat-network)
    - [Portas Seriais](#portas-seriais)
    - [Áudio](#áudio)
    - [USB](#usb)
    - [Pastas Compartilhadas](#pastas-compartilhadas)
  - [Configurações do Sistema e Firmware](#configurações-do-sistema-e-firmware)
    - [Placa-mãe Virtual](#placa-mãe-virtual)
    - [Processador](#processador)
    - [Aceleração](#aceleração)
    - [Firmware: BIOS ou UEFI](#firmware-bios-ou-uefi)
    - [Relógio e UTC](#relógio-e-utc)
  - [Monitoramento de Máquinas Virtuais](#monitoramento-de-máquinas-virtuais)
    - [Visão Geral de Recursos](#visão-geral-de-recursos)
    - [Sessão de Informações](#sessão-de-informações)
    - [Visualizador de Logs](#visualizador-de-logs)
    - [Notificações](#notificações)
  - [Importação e Exportação de Máquinas Virtuais](#importação-e-exportação-de-máquinas-virtuais)
    - [Formato OVF/OVA](#formato-ovfova)
    - [Importando uma Máquina Virtual](#importando-uma-máquina-virtual)
    - [Exportando uma Máquina Virtual](#exportando-uma-máquina-virtual)
    - [Integração com Nuvem](#integração-com-nuvem)
  - [Monitoramento e Logs](#monitoramento-e-logs)
    - [Monitoramento em Tempo Real](#monitoramento-em-tempo-real)
    - [Logs](#logs)
  - [Guest Additions](#guest-additions)
    - [Recursos do Guest Additions](#recursos-do-guest-additions)
    - [Instalando o Guest Additions](#instalando-o-guest-additions)
      - [Montando o ISO](#montando-o-iso)
      - [Executando o instalador](#executando-o-instalador)
      - [Finalizando](#finalizando)
  - [Virtual Storage](#virtual-storage)
    - [Controladoras de Disco](#controladoras-de-disco)
    - [Arquivos de Disco (VDI, VMDK, VHD, HDD)](#arquivos-de-disco-vdi-vmdk-vhd-hdd)
    - [Tipos de Alocação](#tipos-de-alocação)
  - [Redes Virtuais](#redes-virtuais)
    - [Comparação dos Modos de Rede](#comparação-dos-modos-de-rede)
    - [Network Address Translation (NAT)](#network-address-translation-nat)
      - [Port Forwarding no NAT](#port-forwarding-no-nat)
      - [Limitações do NAT](#limitações-do-nat)
    - [Bridged Networking](#bridged-networking)
    - [Internal Networking](#internal-networking)
    - [Host-Only Networking](#host-only-networking)

# Introdução

Link para o vídeo: Ainda em produção.

[Clique aqui para ter acesso aos slides](https://drive.proton.me/urls/RMYPD3GA40#52k1Ixizt77L).

## O que é Virtualização?

Virtualização é a capacidade de transformar um único recurso físico (um computador, um servidor, um roteador) em diversos recursos lógicos isolados uns dos outros, cada qual funcionando como se fosse independente, mesmo que dividam o mesmo hardware subjacente. Na prática é estamos dividindo um único computador físico em diversos computadores virtuais.

O software **hipervisor** é o responsável por gerenciar o hardware físico e dividir os recursos de processamento, disco, memória, rede entre as máquinas virtuais (também conhecidas por **Virtual Machines** ou simplesmente **VM**) e cada uma das VMs acredita que tem um hardware único e exclusivo dela, quando na verdade está compartilhando com outras máquinas.

O grande ganho está na praticidade, eficiência e flexibilidade que essa técnica trás, ao invés de comprar 10 servidores físicos para rodar 10 serviços diferentes, compramos um único servidor, mais robusto, e por meio da virtualização "dividimos" seus recursos em dez máquinas virtuais diferentes, cada qual rodando seus serviços e sistemas operacionais.

Essa técnica auxilia na redução de custos de aquisição de servidores, energia elétrica, resfriamento, espaço físico em rack e ainda facilita na hora de escalar, migrar ou fazer backups dos serviços. Imagine a virtualização como um condomínio: um espaço em comum no qual diversas pessoas moram (máquinas virtuais) mas cada uma tem sua casa/apartamento exclusivo (recursos de hardware virtualizados).

A virtualização é a base de praticamente tudo na TI moderna, desde laboratórios de estudo até grandes datacenters de nuvens, como AWS, Azure e Google Cloud.

## O que é o VirtualBox?

O **Oracle VirtualBox** é uma aplicação de **virtualização** multiplataforma que funciona como um **hipervisor do tipo 2** (ou seja, ele depende de um sistema operacional já instalado para rodar). Com ele, você pode criar e executar diversas **máquinas virtuais (VMs)** em um mesmo computador físico, seja um notebook pessoal, uma estação de trabalho ou até mesmo um servidor.

O **host hospedeiro** é o computador físico (com seu sistema operacional real) que executa o VirtualBox. Já o **guest** é o sistema operacional que roda dentro da máquina virtual criada.

> Por exemplo: você pode ter um host com Linux e rodar uma VM com Windows, ou o contrário. Essa flexibilidade é um dos maiores pontos fortes do VirtualBox.

Por ser multiplataforma, o VirtualBox está disponível para **Windows, Linux, macOS e Oracle Solaris**, o que o torna extremamente acessível. Além disso, as VMs criadas podem ser copiadas, exportadas e transferidas entre diferentes hosts sem complicação, mantendo a portabilidade do ambiente.

> Um detalhe para os sistemas macOS com chips M: por terem arquitetura ARM e não x86_64, nem todos os sistemas operacionais/aplicações estão disponíveis.

### Recursos e Extensões

O VirtualBox por padrão já oferece uma ampla gama de funcionalidades, mas também pode ser expandido com o **Extension Pack**, que adiciona recursos avançados, como:

- **VRDP (VirtualBox Remote Desktop Protocol)**: permite acessar suas máquinas virtuais remotamente via RDP.
- **Suporte a dispositivos USB**: plugar dispositivos diretamente em uma VM sem precisar instalar drivers específicos no host.
- **Pass-through de webcam**: redireciona a câmera do host para a VM.
- **Boot PXE via ROM Intel**: inicialização de sistemas pela rede.
- **Criptografia de discos virtuais com AES**.
- **Integração com Oracle Cloud Infrastructure (OCI)**: exportar e importar VMs diretamente para a nuvem da Oracle.

O VirtualBox por padrão já oferece uma ampla gama de funcionalidades, mas também pode ser expandido com o **Extension Pack**, que adiciona recursos avançados, como:

- **VRDP (VirtualBox Remote Desktop Protocol)**: permite acessar suas máquinas virtuais remotamente via RDP.
- **Suporte a dispositivos USB**: plugar dispositivos diretamente em uma VM sem precisar instalar drivers específicos no host.
- **Pass-through de webcam**: redireciona a câmera do host para a VM.
- **Boot PXE via ROM Intel**: inicialização de sistemas pela rede.
- **Criptografia de discos virtuais com AES**.
- **Integração com Oracle Cloud Infrastructure (OCI)**: exportar e importar VMs diretamente para a nuvem da Oracle.

#### Virtual Hardware

O VirtualBox simula um conjunto robusto de dispositivos de hardware virtualizados. Entre eles:

- Até **32 CPUs virtuais por VM**, independentemente da quantidade de núcleos físicos no host.
- Controladores de armazenamento como **IDE, SATA, SCSI** e suporte a iSCSI nativo.
- Placas de rede virtuais com suporte a **PXE Boot**.
- Suporte a **multitela** e resoluções além da tela física do host.
- **ACPI** para gerenciamento de energia, inclusive repassando status de bateria do host para o guest.

> Embora seja possível instalar múltiplos hipervisores no mesmo host, **não é recomendado executar VMs de hipervisores diferentes ao mesmo tempo**. Isso porque todos competem pelos recursos de virtualização de hardware (como Intel VT-x ou AMD-V), o que pode causar falhas graves ou até travar o host.

#### Snapshots

O VirtualBox oferece um sistema poderoso de **snapshots**, permitindo salvar o estado completo de uma VM e restaurar depois. Isso é extremamente útil para testes, laboratórios e troubleshooting, já que você pode "voltar no tempo" sem precisar reinstalar o sistema.

> Uma **Snapshot** funciona como uma “fotografia” completa da máquina virtual em um determinado momento. Ela registra não só o conteúdo do disco, mas também o estado da memória RAM, da CPU e até dos dispositivos virtuais. Com isso, você pode congelar o sistema em um ponto específico e, quando quiser, voltar exatamente para aquela situação, como se estivesse rebobinando uma fita.

#### Integração e ferramentas

Além da interface gráfica padrão (**VirtualBox Manager**), o VirtualBox pode ser controlado de várias maneiras:

- **VBoxManage**: interface de linha de comando completa, ideal para automação.
- **VBoxHeadless**: roda a VM sem interface gráfica, consumindo menos recursos, muito útil em servidores.
- **SDK (Software Development Kit)**: permite integração com outros sistemas.

Para melhorar o desempenho e a experiência do usuário dentro da VM, existe o pacote **Guest Additions**, que deve ser instalado dentro do sistema convidado. Ele habilita recursos como:

- Ajuste automático de resolução da tela.
- Integração do mouse e teclado entre host e guest.
- Pastas compartilhadas.
- Copiar e colar entre host e guest.
- Aceleração 3D.

---

# Instalando o VirtualBox no Windows

A instalação do **Oracle VirtualBox** no Windows é simples e segue o padrão de outros programas no sistema. O primeiro passo é acessar o site oficial do projeto em [https://www.virtualbox.org/](https://www.virtualbox.org/) e baixar o instalador correspondente à sua versão do Windows (Windows 10, 11 ou Windows Server).

Além do instalador principal, também é recomendado baixar o **Oracle VM VirtualBox Extension Pack**, disponível na mesma página de downloads. Esse pacote adiciona recursos extras como:

- Suporte a USB 2.0 e 3.0.
- Acesso remoto via **VRDP**.
- Integração com webcams.
- Criptografia de discos virtuais.
- Integração com Oracle Cloud.

> O Extension Pack é instalado separadamente, após a instalação principal do VirtualBox, e deve sempre corresponder à mesma versão que você instalou.

## Pré-requisitos para o VirtualBox no Windows

Para garantir que o VirtualBox funcione corretamente e com suporte a automação, é preciso configurar alguns pré-requisitos no sistema:

### 1. Python

Baixe o **Python 3** no site oficial [python.org](https://www.python.org/downloads/) e marque a opção **“Add Python to PATH”** durante a instalação. Depois, confirme a instalação no Prompt de Comando: `python --version`

### 2. Biblioteca pywin32

Com o Python configurado, instale a biblioteca **pywin32**, executando no Prompt de Comando:

```sh
pip install pywin32
```

Ela habilita a comunicação entre o VirtualBox, o Python e os serviços do Windows.

## Instalação

Ao executar o instalador, o **Assistente de Instalação** irá guiá-lo passo a passo. Durante o processo, você poderá escolher o diretório onde o VirtualBox será instalado e quais componentes adicionais deseja incluir:

- **Suporte a USB**: necessário para que dispositivos USB conectados no host sejam reconhecidos dentro das VMs.
- **Drivers de Rede**: usados para habilitar modos de rede avançados, como _Bridged Networking_, que permite à VM se comportar como se estivesse fisicamente conectada à rede.
- **Suporte a Python**: opcional, voltado para quem deseja automatizar tarefas e interagir com a API do VirtualBox por meio de scripts em Python (requer que o Python 3 já esteja instalado no Windows).

> Durante a instalação, o Windows pode exibir avisos sobre drivers não assinados ou mudanças na rede. Esses avisos são normais e você deve confirmar a continuação, caso contrário o VirtualBox poderá não funcionar corretamente.

Após a instalação, basta instalar também o **Extension Pack** (clicando duas vezes no arquivo `.vbox-extpack` baixado). O VirtualBox irá abrir automaticamente e solicitar a confirmação para aplicar o pacote de extensões.

Finalizada a instalação, o sistema cria um atalho no menu **Iniciar** e, por padrão, o VirtualBox ficará disponível para todos os usuários do computador. Caso você queira que ele seja instalado apenas para o usuário atual, é necessário executar o instalador com parâmetros específicos na linha de comando.

Se no futuro for preciso remover o VirtualBox, o processo é feito de forma segura pelo próprio **Painel de Controle**, em _Programas e Recursos_, como qualquer outro software do Windows.

---

# Gerenciando Máquinas Virtuais

Depois de criar suas primeiras VMs no VirtualBox, é comum precisar organizá-las, mover para outro local no disco ou até mesmo duplicar para realizar testes sem afetar o sistema original. O VirtualBox oferece diversas ferramentas para gerenciar suas máquinas virtuais de forma simples, seja pela interface gráfica ou pela linha de comando com o `VBoxManage`.

## Removendo Máquinas Virtuais

Em algum momento, você pode querer remover uma VM que não é mais necessária. No VirtualBox Manager, basta clicar com o botão direito sobre a máquina desejada e selecionar **Remover**. O programa perguntará se você deseja apenas excluir a VM da lista ou também apagar todos os arquivos associados no disco, incluindo discos virtuais. Essa escolha é importante: se pretende liberar espaço, remova também os arquivos; mas se só não quiser visualizar a VM na lista, escolha apenas retirar da interface.

## Movendo Máquinas Virtuais

Às vezes, pode ser necessário mover a VM para outro diretório, seja para liberar espaço em disco ou organizar melhor os arquivos. O VirtualBox facilita esse processo: clique com o botão direito na máquina e escolha **Mover**. Na nova janela, defina a pasta de destino. O programa atualizará automaticamente todos os caminhos internos para garantir que a VM continue funcionando sem erros. É importante lembrar que não é possível mover uma máquina enquanto ela está em execução.

## Clonando Máquinas Virtuais

O recurso de **clone** permite criar uma cópia de uma VM já existente. Esse processo é muito útil para testes de configuração, experimentação de sistemas diferentes ou mesmo para ter uma cópia de segurança rápida. Existem dois tipos principais de clonagem:

- **Full Clone (Clone Completo):** cria uma cópia independente de todos os discos e arquivos da VM original. Depois de pronto, esse clone pode funcionar sozinho, sem depender do sistema que o originou.
- **Linked Clone (Clone Vinculado):** cria uma cópia que depende dos discos originais da VM. É mais rápido e ocupa menos espaço, mas não é totalmente independente. Se você apagar a VM de origem, o clone não funcionará.

Ao iniciar o processo de clonagem, o VirtualBox permite definir se deseja manter ou alterar o **MAC Address** das placas de rede. Quando as duas máquinas precisam rodar ao mesmo tempo na mesma rede, o ideal é gerar novos endereços para evitar conflitos.

## Organizando Máquinas em Grupos

Quando você acumula muitas VMs, pode ser interessante organizá-las em **grupos**. Essa função está disponível no VirtualBox Manager e permite que você inicie, pause ou desligue várias VMs de uma vez. Para criar um grupo, basta arrastar uma VM sobre a outra ou selecionar múltiplas máquinas, clicar com o botão direito e escolher **Mover para Grupo > Novo Grupo**.

Além da organização visual, grupos permitem ações coletivas. Por exemplo, você pode desligar todo um ambiente de laboratório com um único comando. É possível ainda criar subgrupos e até associar uma mesma VM a mais de um grupo quando estiver usando a linha de comando (`VBoxManage modifyvm --groups`).

## Snapshots

Um dos recursos mais úteis do VirtualBox (e outros hipervisores em geral) é a capacidade de criar **snapshots**. Eles funcionam como pontos de restauração de uma máquina virtual, permitindo que você salve o estado exato em que ela se encontra e volte a esse mesmo momento no futuro. Isso inclui não apenas os arquivos do disco, mas também a memória RAM e o estado do processador, o que torna o retorno imediato, como se o tempo tivesse sido congelado.

### Criando Snapshots

Para criar um snapshot, basta selecionar a VM no VirtualBox Manager e clicar em **Snapshots**. Ali você encontrará a opção **Tirar Snapshot**, onde poderá dar um nome e uma descrição para aquele estado. É comum usar nomes descritivos como _“Sistema limpo após instalação do SO”_ ou _“Antes de aplicar atualizações críticas”_.

Se a máquina estiver ligada, o VirtualBox irá pausá-la rapidamente, capturar o estado atual e continuar a execução normalmente. Esse processo é rápido e transparente.

### Restaurando Snapshots

Restaurar um snapshot significa voltar a um ponto anterior no tempo. Ao fazer isso, todas as alterações feitas após a criação do snapshot são descartadas — arquivos adicionados ou removidos, atualizações instaladas ou configurações modificadas desaparecem. Por isso, é sempre recomendável criar um snapshot **antes** de restaurar outro, caso queira preservar o estado atual.

Essa funcionalidade é muito útil em testes de software ou laboratórios de rede, onde é preciso experimentar várias configurações diferentes sem o risco de danificar a instalação principal.

### Excluindo Snapshots

Ao excluir um snapshot, a VM não é apagada. O que acontece é que os arquivos associados àquele ponto de restauração são removidos do disco, liberando espaço. Dependendo do tamanho da máquina virtual e do tempo de uso desde a criação do snapshot, esse processo pode levar alguns minutos, já que o VirtualBox precisa consolidar os dados.

### O que um Snapshot Armazena

Um snapshot é mais do que uma simples cópia:

- Ele guarda as **configurações da VM** (quantidade de memória, processadores, controladores etc.).
- Cria um arquivo de **diferenciação de disco**, que contém todas as mudanças feitas desde o momento em que o snapshot foi tirado.
- Se a máquina estava ligada, salva também o **estado da memória RAM**, permitindo retomar a execução exatamente do ponto em que estava.

Com o tempo, esses arquivos de diferença podem crescer bastante, ocupando muito espaço em disco. Isso acontece porque cada snapshot cria um **arquivo de disco diferencial**, que vai acumulando todas as alterações desde o ponto em que foi tirado. Quanto mais tempo a VM é usada após um snapshot, maior fica esse arquivo.

Quando você remove um snapshot, o VirtualBox precisa fazer a chamada **consolidação de disco**. Nesse processo, todas as alterações salvas no arquivo diferencial são aplicadas de volta ao disco principal da VM, e em seguida o snapshot é descartado. Dependendo do tamanho do snapshot e da quantidade de dados alterados, essa operação pode levar bastante tempo e consumir muitos recursos de CPU e I/O de disco.

Por esse motivo, recomenda-se usar snapshots como uma forma de **teste temporário** ou para marcar estados críticos antes de uma alteração, mas não como substituto de backups. Enquanto snapshots são úteis para voltar atrás rapidamente, apenas um **backup completo do disco virtual** garante a preservação permanente dos dados sem depender da cadeia de diferenciais.

## Configurações Avançadas de Hardware

> O VirtualBox não se limita a apenas criar uma máquina virtual básica; ele oferece uma camada de hardware emulado bastante completa, permitindo que o sistema convidado acredite estar rodando em um computador físico real. Ajustar esses recursos é essencial para garantir melhor desempenho e compatibilidade, especialmente em cenários mais avançados de uso.

### Hardware Emulado

Dentro de cada VM, o VirtualBox simula dispositivos de entrada, vídeo, áudio, rede e até portas seriais. O teclado e mouse, por exemplo, podem ser tratados como dispositivos **PS/2 padrão** ou como **dispositivos USB virtuais**, facilitando a captura e liberação do cursor dentro da janela da VM. Para gráficos, o padrão em sistemas Linux modernos é o **VMSVGA**, enquanto no Windows geralmente se usa o **VBoxSVGA**, ambos projetados para oferecer aceleração 3D e maior compatibilidade. Já para sistemas mais antigos, ainda existe a opção **VBoxVGA**, voltada a legados.

No quesito armazenamento, o VirtualBox pode simular controladoras **IDE, SATA, SCSI e SAS**, o que garante alta compatibilidade com diferentes sistemas operacionais. Essa flexibilidade é importante porque permite migrar VMs de outros hipervisores ou até mesmo clonar discos físicos diretamente.

Também estão disponíveis **controladoras de rede virtuais**, que podem operar em diversos modos (NAT, Bridged, Host-only, etc.), além de **placas de som** (AC’97, Intel HD Audio, SoundBlaster 16) e controladoras **USB**, que permitem passar dispositivos diretamente do host para o convidado.

### Paravirtualização

Além da emulação de hardware tradicional, o VirtualBox oferece **paravirtualização**, que é uma forma de otimizar a comunicação entre o sistema convidado e o hipervisor. Em vez de simular todos os detalhes de um hardware físico, a paravirtualização fornece ao sistema convidado interfaces diretas para tarefas específicas, reduzindo a sobrecarga.

Existem três opções principais:

- **Minimal:** apenas anuncia que o sistema está em um ambiente virtualizado, garantindo compatibilidade básica.
- **KVM:** recomendado para sistemas Linux, aproveita recursos nativos do kernel para melhorar desempenho.
- **Hyper-V:** recomendado para sistemas Windows, expõe uma interface semelhante à do hipervisor da Microsoft, melhorando a precisão de tempo, relatórios de crash e eficiência geral.
-

### Nested Paging e VPIDs

Outro ponto importante para o desempenho são os recursos avançados de virtualização oferecidos pelo processador. O **Nested Paging** (chamado de **EPT** em processadores Intel e **RVI** em AMD) acelera a tradução de endereços de memória, reduzindo drasticamente a sobrecarga da virtualização. Já os **VPIDs (Virtual Processor Identifiers)** permitem que o processador evite a limpeza completa das tabelas de tradução a cada troca de contexto, o que torna a execução de múltiplas VMs ou threads dentro de uma VM muito mais eficiente.

Essas opções podem ser ajustadas manualmente pelo comando: `VBoxManage modifyvm "NomeDaVM" --vtx-vpid on --large-pages on`

Na prática, isso significa que sistemas operacionais modernos, como Windows 10/11 ou distribuições Linux recentes, rodam de forma muito mais fluida quando esses recursos estão habilitados.

## Armazenamento, Rede e Periféricos

Uma máquina virtual não existe isolada; ela precisa de discos, acesso à rede e integração com dispositivos externos para ser útil. O VirtualBox oferece uma grande variedade de opções para emular controladoras de armazenamento, modos de rede, portas de comunicação e até compartilhamento de pastas com o sistema hospedeiro.

### Armazenamento

Ao criar uma VM, o VirtualBox atribui por padrão um **controlador SATA**, ao qual você pode conectar discos rígidos virtuais (VDI, VMDK, VHD etc.) e unidades de CD/DVD virtuais (arquivos ISO). Além do SATA, também estão disponíveis **IDE, SCSI e SAS**, permitindo compatibilidade com diferentes sistemas operacionais.

É possível adicionar ou remover discos a qualquer momento, seja para expandir o armazenamento, seja para conectar um ISO de instalação de sistema. Para cenários de teste, o VirtualBox ainda permite marcar discos como **hot-pluggable**, simulando a troca em tempo real.

Outro recurso útil é a opção **Live CD/DVD**, que mantém a mídia virtual “presa” ao sistema, mesmo quando o convidado executa o comando de ejetar. Isso é prático, por exemplo, em instalações que exigem múltiplos reboots com a ISO conectada.

### Rede

A parte de rede é uma das mais flexíveis do VirtualBox. Por padrão, toda VM é criada com uma placa de rede em **NAT**, o que garante acesso à internet através do host sem necessidade de configuração adicional. Porém, outros modos oferecem diferentes possibilidades.

Cada VM pode ter até oito placas de rede configuradas, tornando possível criar laboratórios complexos de roteamento, servidores e clientes em um único host.

#### Bridged Adapter

A VM vira “mais um computador” na mesma LAN do host (pega IP do DHCP da rede física e pode ser acessada diretamente).

```less
           [Internet]
                |
        [Roteador/Switch]
            /         \
        [Host]       [VM]
            \         /
      (mesma LAN - bridge L2)
```

#### Host‑only Adapter

Rede privada entre host e VMs (sem Internet por padrão). Ótimo para labs isolados e acesso do host às VMs.

```less
[Host] == vboxnet0 (Host‑Only) == [VM]
             (rede privada)
           (sem Internet nativa)
```

#### Internal Network

Rede privada **apenas entre VMs** com o mesmo nome de rede interna. O host não participa.

```less
        (rede interna: "intnet")
        [VM1]====[VM2]====[VM3]
           ^                 ^
        host não participa; sem Internet
```

#### NAT Network

Várias VMs na **mesma rede privada** com saída para a Internet via um roteador NAT virtual. As VMs se enxergam.

```less
           [Internet]
                |
            (via Host)
                |
         [Roteador NAT Virtual]
            /       |       \
         [VM1]   [ VM2]    [VM3]
          (mesma rede privada, DHCP)
           (saída externa via NAT)

```

### Portas Seriais

Apesar de hoje em dia serem pouco usadas em computadores comuns, as portas seriais ainda são indispensáveis para testes de sistemas embarcados, equipamentos de rede e debugging de kernels. O VirtualBox permite emular até quatro portas seriais por VM, que podem ser conectadas de diferentes formas:

- **Porta física do host** (ex.: COM1 no Windows, /dev/ttyS0 no Linux).
- **Named Pipe/Socket**, permitindo simular conexões diretas entre VMs ou com aplicações externas.
- **Arquivo bruto**, para capturar logs de saída diretamente em um arquivo.
- **Conexão TCP**, útil para acessar a porta serial da VM remotamente.
-

### Áudio

O VirtualBox também emula placas de som, com suporte a **Intel HD Audio, AC’97 e SoundBlaster 16**, garantindo compatibilidade desde sistemas modernos até legados. Você pode escolher se deseja habilitar apenas saída, apenas entrada ou ambos.

### USB

Outro ponto importante é o suporte a **USB passthrough**, que permite conectar dispositivos diretamente do host para a VM. Para isso, é necessário ativar o controlador USB (OHCI para 1.1, EHCI para 2.0 ou xHCI para 3.0) e criar **filtros de dispositivos**.

Esses filtros identificam o dispositivo pelo Vendor ID e Product ID, e quando detectados, o VirtualBox redireciona automaticamente para a VM. Isso é essencial, por exemplo, para testar drivers de impressoras, gravadores de microcontroladores ou até dispositivos de segurança como tokens USB.

### Pastas Compartilhadas

Para facilitar a troca de arquivos entre host e convidado, o VirtualBox oferece o recurso de **pastas compartilhadas**. Ele permite que um diretório do host seja montado dentro da VM, funcionando como uma ponte simples para transferir dados. Esse recurso requer a instalação das **Guest Additions**, que habilitam também outras integrações, como área de transferência compartilhada e drag & drop.

## Configurações do Sistema e Firmware

O VirtualBox emula a parte mais fundamental de um computador: a placa-mãe, o processador e o firmware responsável pela inicialização. Esses ajustes definem como o sistema operacional convidado vai enxergar o hardware e, em muitos casos, precisam estar corretamente configurados para que o sistema instale e rode sem problemas.

### Placa-mãe Virtual

Na aba **Motherboard**, é possível definir a quantidade de **memória RAM** dedicada à VM. Esse valor é reservado do host sempre que a VM é ligada, portanto deve ser escolhido com equilíbrio: dar memória demais pode comprometer o desempenho do host, mas dar de menos pode impedir o sistema convidado de funcionar corretamente.

Ainda nessa aba, você encontra a ordem de boot (disco, CD/DVD, rede etc.), a escolha do **chipset** (PIIX3 ou ICH9) e a opção de ativar o **I/O APIC**. Esse último é essencial para sistemas de 64 bits e para quando você pretende atribuir mais de um processador virtual à VM. O **ACPI** também pode ser ajustado aqui, sendo necessário para que o sistema convidado gerencie energia, desligue corretamente e reconheça mudanças de hardware.

### Processador

Na aba **Processor**, você controla quantos núcleos virtuais serão expostos ao sistema convidado. O VirtualBox permite configurar até 32 vCPUs, mas a recomendação é nunca atribuir mais do que metade dos núcleos físicos disponíveis no host. Também é possível habilitar **PAE/NX**, recurso exigido por alguns sistemas Linux de 32 bits, e ativar a opção de **Nested Virtualization (VT-x/AMD-V)**, que permite rodar hipervisores dentro da própria VM — algo útil para testes de ambientes complexos.

### Aceleração

Na aba **Acceleration**, aparecem opções relacionadas à execução assistida por hardware. Aqui você escolhe o **provedor de paravirtualização** (Minimal, KVM ou Hyper-V), que melhora a integração com o hipervisor. Também é possível ativar **Nested Paging (EPT/RVI)** e **VPIDs**, recursos do processador que aceleram bastante a tradução de memória e a troca de contexto, reduzindo a sobrecarga de virtualização.

### Firmware: BIOS ou UEFI

Por padrão, o VirtualBox utiliza uma BIOS tradicional para inicializar as VMs. Entretanto, sistemas modernos — especialmente Windows 10/11 e distribuições Linux recentes — podem exigir **UEFI**. Nesse caso, basta ativar a opção **Enable EFI** nas configurações da VM.

Além disso, existe suporte a **Secure Boot**, que pode ser habilitado quando se deseja um ambiente com inicialização segura, semelhante ao que encontramos em PCs atuais. O UEFI do VirtualBox também permite ajustar resoluções gráficas específicas via linha de comando, útil quando se quer trabalhar em ambientes que exigem telas maiores, como servidores gráficos ou testes de aplicativos que dependem de alta resolução.

### Relógio e UTC

Outro detalhe interessante é a opção de configurar o relógio virtual para operar em **UTC**. Essa prática é comum em sistemas Linux e servidores, evitando problemas de sincronização quando há diferença entre fusos horários do host e do convidado.

## Monitoramento de Máquinas Virtuais

Criar e executar uma máquina virtual é apenas o primeiro passo. Para garantir que ela está se comportando bem e utilizando os recursos de forma adequada, o VirtualBox oferece ferramentas integradas de **monitoramento** e **análise de desempenho**.

### Visão Geral de Recursos

No **VirtualBox Manager** existe a aba **Resources**, que mostra gráficos em tempo real sobre consumo de **CPU, memória RAM, disco e rede** de cada VM em execução, além de métricas do próprio host. Essa visão é útil para identificar gargalos rapidamente, como um servidor que consome muita CPU ou uma VM que começa a trocar memória em excesso.

É possível ainda listar todas as VMs, inclusive as que não estão rodando, e ver métricas de uso histórico, facilitando o gerenciamento em ambientes com muitas máquinas virtuais.

### Sessão de Informações

Ao selecionar uma VM e abrir o **Session Information Dialog**, você tem acesso a informações detalhadas sobre configuração e execução:

- **Configuration Details**: mostra hardware e ajustes atuais da VM (memória, rede, discos etc.).
- **Runtime Information**: exibe status em tempo real, como uptime, consumo de recursos e dispositivos ativos.
- **Resource Use**: gráficos de CPU, RAM, I/O de disco e tráfego de rede, muito úteis para troubleshooting.
- **Guest Control**: lista de processos que estão rodando dentro do convidado (quando o recurso está habilitado).

Esse painel centraliza tudo o que você precisa para entender o estado da máquina virtual sem precisar instalar ferramentas extras no sistema convidado.

### Visualizador de Logs

Sempre que uma VM é iniciada, o VirtualBox gera arquivos de **log**, que podem ser acessados pelo menu da máquina em **Mostrar Log**. Esses registros guardam desde informações de inicialização até detalhes de erros, warnings e mensagens sobre drivers virtuais.

O **Log Viewer** permite filtrar mensagens por tipo (como NAT, áudio ou USB), salvar os registros em arquivos de texto, criar marcadores e até pesquisar por palavras-chave. Isso torna o diagnóstico muito mais prático em casos de falhas durante a inicialização ou problemas de desempenho.

### Notificações

Além das métricas e logs, o VirtualBox possui um **Centro de Notificações** que mostra alertas de erros, tarefas em andamento e avisos sobre o uso de recursos. Por exemplo, se a VM estiver configurada com pouca memória de vídeo para habilitar tela cheia, um aviso aparece diretamente na interface.

## Importação e Exportação de Máquinas Virtuais

Nem sempre é necessário criar uma máquina virtual do zero. O VirtualBox suporta formatos padrões de mercado que permitem **compartilhar VMs entre diferentes hipervisores** ou até mesmo mover ambientes completos entre computadores com apenas alguns cliques.

### Formato OVF/OVA

O formato mais comum é o **OVF (Open Virtualization Format)**, um padrão aberto amplamente aceito em diferentes plataformas de virtualização. Ele descreve não apenas o disco da máquina (normalmente em **VMDK**), mas também sua configuração de hardware, como memória, processadores e rede.
Esse pacote pode vir em duas formas:

- **OVF + arquivos separados**: inclui o `.ovf` (descrição XML) e um ou mais arquivos de disco (`.vmdk`, por exemplo).
- **OVA**: uma versão compactada em um único arquivo `.ova`, mais prática para distribuição.

Vale lembrar que snapshots não são exportados, apenas o estado atual da VM. Ou seja, após exportar, você terá uma máquina limpa baseada no momento da exportação, sem a árvore de snapshots que existia no ambiente original.

### Importando uma Máquina Virtual

Para importar no VirtualBox:

1. Abra o **VirtualBox Manager** e clique em **Import Appliance**.
2. Selecione o arquivo `.ovf` ou `.ova`.
3. Ajuste as configurações exibidas (nome, local do armazenamento, endereços MAC das interfaces de rede etc.).
4. Finalize a importação. O VirtualBox irá copiar e descompactar os arquivos, criando a VM localmente.

> Também é possível usar a linha de comando: `VBoxManage import appliance.ova`

Durante a importação, é possível alterar políticas como **regerar MAC addresses** (recomendado quando a VM vai rodar na mesma rede do host original) e escolher se os discos devem ser convertidos para o formato **VDI** do VirtualBox.

### Exportando uma Máquina Virtual

Para exportar:

1. No **VirtualBox Manager**, vá em **File → Export Appliance**.
2. Selecione a(s) VM(s) que deseja exportar.
3. Escolha o formato de exportação (OVF ou OVA).
4. Defina o local de salvamento e finalize.

> Na linha de comando: `VBoxManage export "NomeDaVM" -o maquina.ova`

Durante a exportação, você pode incluir informações adicionais como nome do fornecedor, versão de software e até incluir arquivos ISO junto com a imagem.

### Integração com Nuvem

O VirtualBox também permite exportar diretamente para serviços de nuvem, como o **Oracle Cloud Infrastructure (OCI)**. Isso facilita a criação de ambientes de teste localmente e posterior envio para produção na nuvem.

## Monitoramento e Logs

Quando uma máquina virtual está em execução, não basta apenas que ela funcione — é importante acompanhar o desempenho, verificar gargalos e ter registros detalhados caso algo dê errado. O VirtualBox oferece duas ferramentas principais para isso: o **monitoramento em tempo real** e o **sistema de logs**.

### Monitoramento em Tempo Real

O **VirtualBox Manager** traz a aba **Resources**, que mostra gráficos dinâmicos sobre consumo de **CPU, memória RAM, I/O de disco e tráfego de rede** de cada VM em execução. Essa visão rápida permite perceber anomalias como:

- Uma VM consumindo toda a CPU disponível.
- Uma aplicação que causa picos de leitura e escrita em disco.
- Uma máquina que gera tráfego de rede acima do esperado.

Além da visão geral, é possível abrir o **Session Information Dialog**, que detalha:

- **Configuration Details:** lista os parâmetros de hardware e software configurados na VM.
- **Runtime Information:** mostra status atual como uptime, estado de execução e uso de recursos.
- **Resource Use:** gráficos detalhados de uso de CPU, RAM, rede e disco.
- **Guest Control:** processos e interações dentro do convidado (quando habilitado).

### Logs

Cada vez que uma VM é iniciada, o VirtualBox gera arquivos de **log** contendo todo o histórico de inicialização, mensagens do hipervisor e eventos da execução. Esses registros podem ser acessados pelo **Log Viewer**:

1. Clique com o botão direito na VM e selecione **Show Log**.
2. Abra os arquivos de log listados (normalmente `VBox.log`, `VBox.log.1`, etc.).
3. Navegue pelos eventos com suporte a filtros, busca e até criação de marcadores.

No Log Viewer, você pode:

- **Salvar** os registros em um arquivo de texto para análise posterior.
- **Filtrar** mensagens por categorias como “NAT”, “Áudio” ou “USB”.
- **Pesquisar** por palavras-chave, facilitando a investigação.
- **Atualizar em tempo real** enquanto a VM roda.

## Guest Additions

O **Guest Additions** é um conjunto de **drivers e utilitários** desenvolvido pela Oracle para melhorar a integração entre a máquina virtual e o host. Ele deve ser instalado **dentro do sistema operacional convidado** (guest OS) depois que a instalação do sistema estiver concluída.

Esse pacote vem em um único arquivo ISO chamado **VBoxGuestAdditions.iso**, localizado no diretório de instalação do VirtualBox. Ao montar esse ISO na VM, é possível instalar os componentes específicos para Windows, Linux, Solaris e até OS/2.

O principal objetivo do Guest Additions é **otimizar o desempenho e a usabilidade da VM**, oferecendo recursos que não estão disponíveis apenas com o hardware emulado.

### Recursos do Guest Additions

Com o Guest Additions instalado, o sistema convidado ganha funcionalidades extras como:

- **Integração total do mouse:** elimina a necessidade de capturar/liberar o ponteiro manualmente. O mouse flui entre o host e a VM sem interrupções.
- **Pastas compartilhadas:** diretórios do host podem ser acessados dentro da VM como se fossem compartilhamentos de rede, mesmo que a VM não tenha placa de rede configurada.
- **Melhor suporte gráfico:** drivers de vídeo otimizados, suporte a resoluções personalizadas, aceleração 3D e ajuste automático da tela da VM ao redimensionar a janela.
- **Seamless mode:** permite que janelas do convidado apareçam diretamente na área de trabalho do host, como se fossem aplicações locais.
- **Sincronização de tempo:** mantém o relógio do guest alinhado com o host, mesmo após suspensões ou restaurações de snapshots.
- **Área de transferência compartilhada (Clipboard):** copiar e colar funciona entre host e VM.
- **Drag and Drop:** arrastar arquivos entre host e guest diretamente pela interface.
- **Login automático (credentials passing):** permite autenticação integrada.
- **Comunicação host ↔ guest:** via propriedades do sistema, scripts podem ser executados e parâmetros monitorados de forma automática.

> Observação: para que os recursos funcionem corretamente, a versão do Guest Additions deve coincidir com a versão do VirtualBox instalado no host.

### Instalando o Guest Additions

O processo de instalação é simples e segue o mesmo padrão para qualquer sistema:

#### Montando o ISO

1. Com a VM já inicializada e o sistema convidado rodando, vá no menu do VirtualBox:  
   **Devices > Insert Guest Additions CD Image**.  
   Isso montará automaticamente o ISO na VM.
2. Caso queira montar manualmente:
   - **Windows host:** o ISO está em `C:\Program Files\Oracle\VirtualBox\VBoxGuestAdditions.iso`.
   - **Linux/Solaris host:** geralmente localizado em `/opt/VirtualBox/additions/VBoxGuestAdditions.iso`.

Abra o **Virtual Media Manager**, clique em **Add**, selecione o ISO e monte como CD/DVD dentro da VM.

#### Executando o instalador

- Se o **autostart** do sistema estiver ativo, o instalador do Guest Additions abrirá automaticamente.
- Caso contrário, acesse a mídia montada na VM e rode o instalador correspondente:
  - **Windows:** `VBoxWindowsAdditions.exe`
  - **Linux:** execute o script `VBoxLinuxAdditions.run`
  - **Solaris:** `VBoxSolarisAdditions.pkg`
  - **OS/2:** `VBoxOS2Additions.exe`

Durante a instalação, os drivers e serviços adicionais serão configurados no sistema convidado.

#### Finalizando

Reinicie a VM para que todos os recursos passem a funcionar. Após o reboot, já será possível usar pastas compartilhadas, copiar/colar entre sistemas e redimensionar a tela da VM sem precisar ajustar manualmente.

---

## Virtual Storage

Toda máquina virtual precisa de um **disco rígido virtual**, que é visto pelo sistema convidado como se fosse um dispositivo físico. O VirtualBox oferece várias formas de fornecer esse armazenamento, desde **arquivos de imagem** até **discos físicos reais** ou **storage em rede**.

Existem três formas principais de apresentar armazenamento a uma VM:

1. Usando **arquivos de imagem** no host (formato VDI, VMDK, VHD, HDD).
2. Conectando um **servidor iSCSI** para usar discos remotos.
3. Acessando diretamente um **disco físico do host** (modo avançado).

Independentemente da escolha, o disco virtual sempre precisa estar conectado a uma **controladora virtual** — que é o dispositivo responsável por gerenciar as operações de leitura e escrita.

### Controladoras de Disco

Assim como em um computador físico, no VirtualBox os discos e unidades de CD/DVD são ligados a uma controladora. O software pode emular os principais padrões de mercado:

- **IDE (ATA):** padrão mais antigo, ainda útil para sistemas legados. Suporta até 4 dispositivos por VM. Sempre garantido como fallback, já que qualquer sistema reconhece.
- **SATA (AHCI):** padrão moderno, mais rápido e eficiente. É o **default** no VirtualBox e suporta até 30 dispositivos. Porém, sistemas antigos como Windows XP não possuem drivers nativos e precisam de drivers adicionais.
- **SCSI:** voltado para compatibilidade e servidores, suporta até 15 dispositivos. No VirtualBox há suporte a controladoras **LSI Logic** e **BusLogic**.
- **SAS (Serial Attached SCSI):** evolução do SCSI, com suporte a até 255 dispositivos. Recomendado apenas para sistemas modernos que reconheçam SAS.
- **USB Mass Storage:** permite simular discos externos conectados via USB. Cada disco aparece no convidado como um dispositivo USB independente.
- **NVMe:** projetado para SSDs de alto desempenho. Requer suporte nativo do sistema convidado (a partir do Windows 8.1 ou Linux recentes). Também suporta até 255 dispositivos.

> Uma dúvida pode surgir sobre qual escolher. Em geral, você deve **evitar IDE**, a não ser que o sistema convidado só reconheça esse padrão. Fora isso, não há diferença prática em usar SATA, SCSI ou SAS — todos oferecem desempenho semelhante dentro do VirtualBox.

### Arquivos de Disco (VDI, VMDK, VHD, HDD)

No VirtualBox, os discos virtuais são armazenados como **arquivos de imagem** no host. Para o sistema convidado, eles aparecem como se fossem discos físicos reais. Cada vez que o convidado lê ou grava dados, o VirtualBox redireciona essas operações para o arquivo correspondente.

Assim como acontece em um disco físico, cada imagem tem um **tamanho máximo** definido na criação. A diferença é que no VirtualBox é possível **expandir** esse tamanho depois, mesmo que o disco já contenha dados.

O VirtualBox suporta vários formatos de imagem, garantindo compatibilidade com outros hipervisores:

- **VDI (Virtual Disk Image):** formato nativo do VirtualBox. É a escolha padrão ao criar uma nova VM e geralmente o mais recomendado quando você pretende usar apenas dentro do VirtualBox.
- **VMDK (Virtual Machine Disk):** formato popular usado pelo VMware. Ideal se você pretende migrar máquinas entre VirtualBox e VMware.
- **VHD (Virtual Hard Disk):** formato da Microsoft, usado pelo Hyper-V. É útil se a VM precisar ser transportada para ambientes Windows/Hyper-V.
- **HDD (Parallels v2):** formato legado usado pelo Parallels. Apenas a versão 2 é suportada; versões 3 e 4 precisam ser convertidas antes de uso.

> Em resumo: use **VDI** se for rodar apenas no VirtualBox, **VMDK/VHD** para compatibilidade com outros hipervisores, e **HDD** apenas em cenários de migração legada.

### Tipos de Alocação

Na criação de uma imagem, você pode escolher entre dois modos:

- **Disco de tamanho fixo:** cria um arquivo imediatamente do tamanho total definido (por exemplo, 20 GB). Isso garante desempenho consistente em gravações, mas ocupa o espaço completo desde o início.
- **Disco dinamicamente alocado:** começa pequeno e cresce à medida que setores são utilizados. É mais econômico em termos de armazenamento, mas pode ter desempenho ligeiramente inferior durante a expansão inicial.

Na prática, para laboratórios ou uso cotidiano, os discos **dinamicamente alocados** são mais flexíveis. Já para servidores críticos ou testes de performance, pode ser melhor optar por discos de **tamanho fixo**.

---

## Redes Virtuais

Cada placa de rede virtual no VirtualBox pode ser configurada individualmente para apresentar ao sistema convidado um tipo específico de hardware. Isso é importante porque diferentes sistemas operacionais têm suporte nativo a diferentes adaptadores.

O VirtualBox pode emular os seguintes modelos de placas de rede:

- **AMD PCNet PCI II (Am79C970A):** não disponível em convidados ARM.
- **AMD PCNet FAST III (Am79C973):** é o padrão em convidados x86 por ser suportado pela maioria dos sistemas operacionais e até pelo bootloader **GNU GRUB**. Também não está disponível em ARM.
- **Intel PRO/1000 MT Desktop (82540EM):** recomendado para Windows Vista e posteriores.
- **Intel PRO/1000 T Server (82543GC):** reconhecido nativamente pelo Windows XP, sem drivers adicionais.
- **Intel PRO/1000 MT Server (82545EM):** útil para facilitar importações de VMs no formato OVF de outras plataformas.
- **Adaptador paravirtualizado (virtio-net):** ao invés de emular hardware, ele usa uma interface otimizada para ambientes virtuais. Isso reduz a complexidade e aumenta a performance de rede. É compatível com kernels Linux a partir do 2.6.25 (algumas distros fazem backport) e com Windows 2000/XP/Vista mediante instalação dos drivers do projeto **KVM**.
- **Ethernet via USB (usbnet):** simula uma placa de rede USB.

O uso do **virtio-net** é recomendado quando se busca melhor desempenho em rede, desde que os drivers estejam disponíveis no convidado.

> O VirtualBox também possui **suporte limitado a jumbo frames**, mas apenas quando se usa placas Intel em modo **Bridged Networking**. Se o adaptador for AMD, pacotes jumbo acima de 1500 bytes serão simplesmente descartados, causando perda de pacotes e possíveis comportamentos inesperados.

Cada adaptador de rede no VirtualBox pode operar em diferentes **modos de conexão**, dependendo da finalidade da VM. Esses modos definem como o tráfego será roteado entre a máquina virtual, o host e a rede externa.

- **Not attached (não conectado):** a VM “enxerga” a placa de rede, mas não há conexão — como se o cabo estivesse desconectado. Útil para simulações ou para forçar o convidado a reconfigurar sua rede.
- **NAT (Network Address Translation):** modo padrão. Permite que a VM acesse a internet e serviços externos, mas de forma limitada (ex.: compartilhamento de arquivos Windows pode não funcionar bem).
- **NAT Network:** semelhante ao NAT, mas permite que várias VMs conectadas à mesma rede NAT se comuniquem entre si e com o mundo externo. É necessário criar previamente a rede NAT.
- **Bridged Networking:** conecta a VM diretamente à rede física do host. A VM aparece na LAN como um dispositivo real, com seu próprio IP. Ideal para servidores e simulações de rede.
- **Internal Networking:** cria uma rede isolada onde apenas VMs podem se comunicar. Nem o host nem a rede externa têm acesso. Bom para laboratórios internos.
- **Host-only Networking:** cria uma rede privada entre o host e um grupo de VMs, sem depender da interface física do host. Útil para ambientes de teste que precisam de comunicação apenas com o host.
- **Cloud Networking:** conecta a VM a uma sub-rede em um serviço de nuvem remoto.
- **Generic Networking:** oferece modos avançados pouco usados, como:
  - **UDP Tunnel:** interconecta VMs em hosts diferentes usando túneis sobre a rede existente.
  - **VDE (Virtual Distributed Ethernet):** conecta a VM a um switch virtual distribuído, disponível em Linux e FreeBSD (necessário compilar o VirtualBox com suporte a VDE).

### Comparação dos Modos de Rede

| Modo            | VM ↔ Host            | VM1 ↔ VM2 | VM ↔ LAN             | VM ↔ Internet |
| --------------- | --------------------- | ---------- | --------------------- | -------------- |
| **Host-only**   | ✔️                    | ✔️         | ❌                    | ❌             |
| **Internal**    | ❌                    | ✔️         | ❌                    | ❌             |
| **Bridged**     | ✔️                    | ✔️         | ✔️                    | ✔️             |
| **NAT**         | ✔️ (via Port Forward) | ❌         | ✔️ (via Port Forward) | ✔️             |
| **NAT Network** | ✔️ (via Port Forward) | ✔️         | ✔️ (via Port Forward) | ✔️             |

### Network Address Translation (NAT)

O modo **NAT (Network Address Translation)** é a forma mais simples de permitir que uma máquina virtual acesse a internet ou redes externas. Ele não exige configuração adicional no host ou no sistema convidado, por isso é o **modo padrão** no VirtualBox.

Quando você ativa NAT, a VM se comporta como um computador conectado à internet por meio de um **roteador doméstico**. Esse roteador virtual é o próprio mecanismo de rede do VirtualBox, que fica entre o convidado e o host. Assim, o tráfego da VM é traduzido e enviado para fora como se tivesse saído do próprio host.

Essa separação traz vantagens de **segurança**, já que, por padrão, uma VM em NAT não pode ser acessada diretamente nem por outras VMs. Porém, a desvantagem é que o convidado também não é visível externamente. Ou seja, você pode acessar a internet a partir da VM, mas não pode hospedar serviços a menos que configure **port forwarding**.

Internamente, o VirtualBox também atua como um **servidor DHCP**, atribuindo automaticamente endereços IP às VMs. A primeira placa de rede em NAT usa a rede **10.0.2.0/24**, a segunda **10.0.3.0/24**, e assim por diante.

#### Port Forwarding no NAT

Para expor serviços rodando dentro da VM, é preciso configurar **port forwarding**. Esse recurso funciona como no roteador da sua casa: o VirtualBox escuta portas no host e encaminha o tráfego para a VM.

Exemplo prático: redirecionar a porta **2222** do host para a porta **22** (SSH) do convidado.

```sh
VBoxManage modifyvm "NomeVM" --natpf1 "guestssh,tcp,,2222,,22"
```

Nesse caso, qualquer conexão feita ao `localhost:2222` no host será entregue ao serviço SSH na VM.  
Para remover a regra:

```sh
VBoxManage modifyvm "NomeVM" --natpf1 delete "guestssh"
```

Também é possível restringir a interface do host, por exemplo, aceitar conexões apenas do `127.0.0.1`:

```sh
VBoxManage modifyvm "NomeVM" --natpf1 "guestssh,tcp,127.0.0.1,2222,,22"
```

Assim, o serviço fica disponível somente localmente.

> Port forwarding também pode ser configurado pela **GUI**, na aba \_Rede → NAT → Regras de Port Forwarding.

#### Limitações do NAT

Apesar da praticidade, o modo NAT tem algumas limitações que podem afetar certos cenários:

- **ICMP restrito:** ferramentas como `ping` geralmente funcionam, mas `traceroute` e similares podem falhar.
- **Broadcasts UDP:** o convidado pode não receber todos os broadcasts, afetando protocolos como NetBIOS. Nesse caso, use o IP direto (`\\10.0.2.15\share`) em vez do nome.
- **Protocolos não suportados:** apenas **TCP** e **UDP** funcionam. Protocolos como GRE (usado em PPTP VPN) não são suportados.
- **Portas abaixo de 1024:** em hosts Unix/Linux/macOS, somente processos com privilégios de root podem usar essas portas. Isso impede, por exemplo, redirecionar a porta 80 sem privilégios administrativos.

Na prática, essas limitações não afetam o uso comum (navegar, baixar arquivos, usar SSH etc.), mas podem ser um obstáculo para serviços avançados, como **NFS** ou alguns tipos de VPN.

### Bridged Networking

No modo **Bridged Networking**, o VirtualBox conecta a placa de rede virtual da sua VM diretamente a uma interface física do host (placa de rede com ou sem fio). Isso é feito através de um **net filter driver**, que intercepta e injeta pacotes no tráfego real da rede.

Na prática, é como se a VM estivesse **plugada no mesmo switch físico** que o host, recebendo seu próprio endereço IP na rede local. Isso significa que outras máquinas da rede — servidores, roteadores, ou até mesmo outros computadores — conseguem “enxergar” a VM como se fosse um dispositivo físico comum.

Esse modo é muito útil quando você precisa:

- Colocar a VM em um domínio real de rede corporativa.
- Testar serviços de rede (servidores web, DHCP, DNS, banco de dados etc.) acessíveis a outros dispositivos.
- Simular laboratórios próximos da realidade, com VMs recebendo IPs do roteador da rede.

> **Atenção em redes Wi-Fi:** a maioria das placas sem fio não suporta o modo promíscuo completo. Por isso, ao usar bridged com Wi-Fi, o VirtualBox altera os endereços MAC dos pacotes, garantindo que a comunicação funcione, mas com algumas restrições em protocolos avançados.

**Exemplo de configuração no VBoxManage:**

```
VBoxManage modifyvm "DebianVM" --nic1 bridged --bridgeadapter1 "enp3s0"
```

### Internal Networking

O **Internal Networking** é parecido com o modo bridged, mas **sem acesso à rede física do host**. Nesse modo, as VMs se conectam a um **switch virtual isolado**, criado automaticamente pelo VirtualBox.

Isso significa que apenas as VMs conectadas ao mesmo nome de rede interna conseguem se comunicar entre si. O host não participa da rede e nem consegue capturar esse tráfego com ferramentas como Wireshark, aumentando a privacidade.

É ideal quando você quer criar um **ambiente fechado** para testes:

- Laboratórios de malware ou segurança.
- Simulações de redes privadas.
- Ambientes multi-VM onde a comunicação precisa ser restrita.

**Exemplo de configuração no VBoxManage:**

```
VBoxManage modifyvm "DebianVM" --nic1 intnet --intnet1 "lab-rede"
```

Nesse caso, qualquer VM conectada ao `lab-rede` poderá trocar pacotes, mas nada “sai” dessa rede.

### Host-Only Networking

O modo **Host-Only Networking** funciona como um meio-termo entre o **Bridged** e o **Internal**.

Ele cria uma interface de rede virtual no **host** (semelhante a um adaptador de loopback), permitindo que o host e as VMs conversem diretamente, como se estivessem no mesmo switch virtual. Porém, essa rede **não se conecta ao mundo externo** — ela é isolada, existindo apenas entre host e convidados.

É muito útil quando:

- Você precisa que o host e a VM compartilhem arquivos/serviços sem expor nada para fora.
- Está trabalhando com appliances pré-configurados (ex.: VM com servidor web + VM com banco de dados).
- Deseja acesso direto do host para gerenciamento das VMs, mas sem depender de internet ou rede física.

Além disso, o VirtualBox fornece um **servidor DHCP embutido** para distribuir endereços IP nesse tipo de rede. Isso evita a necessidade de configurar tudo manualmente.

**Exemplo de configuração no VBoxManage:**

```
VBoxManage modifyvm "WindowsVM" --nic1 hostonly --hostonlyadapter1 "vboxnet0"
```
